<!DOCTYPE html>
<html = style="height: 100%;">

<head>
	<title>Arathia World Map</title>
	<link rel="icon" href="icons/arathia.png">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="scripts/leaflet.css">
	<link rel="stylesheet" href="scripts/src/leaflet.groupedlayercontrol.css" />
	<script src="scripts/leaflet.js"></script>
</head>

<body style="height: 100%;margin: 0;">
	<div id="map" style="width: 100%; height: 100%; background: #e9bf82;"></div>
	<a class="leaflet-control-zoom-out" href="arathia" title="Zoom out" role="button"
        aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a>
	<script src="scripts/src/leaflet.groupedlayercontrol.js"></script>
	<script type="text/javascript">
		var southWest = L.latLng(-70, -170),
			northEast = L.latLng(70, 170),
			bounds = L.latLngBounds(southWest, northEast);

		//Creating the Map
		var map = L.map('map', {
			maxBounds: bounds,
			zoomSnap: 0.1,
			zoomDelta: 0.5,
			wheelPxPerZoomLevel: 120,
		}).setView([0, 0], 0);
		var arathia = L.tileLayer('maps/arathia/{z}/{x}/{y}.png', {
			continuousWorld: false,
			noWrap: true,
			minZoom: 2.75,
			maxZoom: 5,
		}).addTo(map);
		var arathiaClean = L.tileLayer('maps/arathiaClean/{z}/{x}/{y}.png', {
			continuousWorld: false,
			noWrap: true,
			minZoom: 2.75,
			maxZoom: 5.5,
		});
		var morturia = L.tileLayer('maps/morturia/{z}/{x}/{y}.png', {
			continuousWorld: false,
			noWrap: true,
			minZoom: 2.75,
			maxZoom: 5.5,
		});

		//Icons
		var capital = L.icon({
			iconUrl: 'icons/capital.png',
			iconRetinaUrl: 'icons/capital.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [31, 41],
			iconAnchor: [15, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var cityBig = L.icon({
			iconUrl: 'icons/cityBig.png',
			iconRetinaUrl: 'icons/cityBig.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [30, 41],
			iconAnchor: [14, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var citySmall = L.icon({
			iconUrl: 'icons/citySmall.png',
			iconRetinaUrl: 'icons/citySmall.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [30, 41],
			iconAnchor: [14, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var town = L.icon({
			iconUrl: 'icons/town.png',
			iconRetinaUrl: 'icons/town.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [31, 41],
			iconAnchor: [15, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var nature = L.icon({
			iconUrl: 'icons/nature.png',
			iconRetinaUrl: 'icons/nature.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [30, 41],
			iconAnchor: [14, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var important = L.icon({
			iconUrl: 'icons/important.png',
			iconRetinaUrl: 'icons/important.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [27, 41],
			iconAnchor: [13, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});
		var character = L.icon({
			iconUrl: 'icons/character.png',
			iconRetinaUrl: 'icons/character.png',
			shadowUrl: 'icons/shadow.png',
			iconSize: [31, 41],
			iconAnchor: [15, 41],
			popupAnchor: [1, -34],
			tooltipAnchor: [16, -28],
			shadowSize: [41, 41]
		});

		//Coordinate Finder
		var marker = L.marker([0, 0], {
			draggable: true,
		});
		marker.bindPopup('LatLng Marker').openPopup();
		marker.on('dragend', function (e) {
			marker.getPopup().setContent(marker.getLatLng().toString()).openOn(map);
		});

		//Arathia	
		//Antaria
		var an_capital = L.marker([32.720989, -41.187598], { icon: capital }).bindPopup('<b><a href="arathia#Antaria" target="_blank">Antaria</a></b> <br /><i>Capital</i> <br />The capital of the Holy Antarian Enpire');
		//Important
		var an_archtree = L.marker([45.04985, -79.242103], { icon: important }).bindPopup('<b><a href="arathia#Arch-Trees" target="_blank">Antarian Arch-Tree</a></b> <br /><i>Important Location</i>');
		//Big Cities
		var an_city = L.marker([12.640338, -35.859375], { icon: cityBig }).bindPopup('<b>Antarian Port City</b> <br /><i>Large City</i> <br />A trade city in the HAE with a large port');
		//Small Cities
		//Towns
		var an_town = L.marker([-1.841265, -73.559396], { icon: town }).bindPopup('<b>Antarian Town</b> <br /><i>Town</i>');
		var an_town2 = L.marker([18.293698, -115.356925], { icon: town }).bindPopup('<b>Antarian Town</b> <br /><i>Town</i>');
		//Nature

		//Odrheim
		var od_capital = L.marker([46.588506, 33.414077], { icon: capital }).bindPopup('<b>Odrheim Capital</b> <br /><i>Capital</i> <br />The capital of Odrheim');
		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Tunglheimr
		var th_capital = L.marker([41.364997, 70.145929], { icon: capital }).bindPopup('<b>Tunglheimr Capital</b> <br /><i>Capital</i> <br />The capital of Tunglheimr');
		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Rheinland
		var rh_capital = L.marker([15.641359, 138.427261], { icon: capital }).bindPopup('<b>Rheinland Capital</b> <br /><i>Capital</i> <br />The capital of Rheinland');
		//Important
		var rh_archtree = L.marker([27.803884, 131.965833], { icon: important }).bindPopup('<b><a href="arathia#Arch-Trees" target="_blank">Rheinland Arch-Tree</a></b> <br /><i>Important Location</i>');
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Golden Order

		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Azurith
		var az_capital = L.marker([-23.271278, 104.100923], { icon: capital }).bindPopup('<b>Azurith Capital</b> <br /><i>Capital</i> <br />The capital of Azurith');
		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Tsuki
		var ts_capital = L.marker([-26.786247, 10.234271], { icon: capital }).bindPopup('<b><a href="arathia#Getsuy%C5%8Dsei" target="_blank">Getsuyōsei</b></a> <br /><i>Capital</i> <br />The capital of Tsuki Ōkoku');
		//Important
		var ts_archtree = L.marker([-17.677522, 10.600598], { icon: important }).bindPopup('<b><a href="arathia#Arch-Trees" target="_blank">Tsuki Arch-Tree</a></b> <br /><i>Important Location</i> <br />The Arch-Tree located in the city Getsuyōsei, blossoming in a beautiful blue color.');
		var ts_mizunoiwaya = L.marker([-52.329725, 58.377932], { icon: important }).bindPopup('<b>Mizu-no-Iwaya</b> <br /><i>Important Location</i> <br />The cave where the first Gekkōjin “Tsukikage Genjiro” sought enlightenment.');
		//Big Cities
		var ts_sōgenshima = L.marker([-13.88388, 37.332231], { icon: cityBig }).bindPopup('<b>Sōgenshima</b> <br /><i>Large City</i>');
		var ts_kinshū = L.marker([-34.127172, -11.480145], { icon: cityBig }).bindPopup('<b>Kinshū</b> <br /><i>Large City</i> <br />A trading city, main trading partners are Trade Company and Primoria.');
		var ts_hikari = L.marker([-50.232027, 66.709798], { icon: cityBig }).bindPopup('<b>Hikari no Toshi</b> <br /><i>Large City</i>');
		//Small Cities
		var ts_amagumo = L.marker([-32.556313, 28.080238], { icon: citySmall }).bindPopup('<b>Amagumo</b> <br /><i>Small City</i>');
		var ts_yozora = L.marker([-60.418733, 26.314855], { icon: citySmall }).bindPopup('<b>Yozora</b> <br /><i>Small City</i>');
		var ts_kōun = L.marker([-17.927417, 65.51944], { icon: citySmall }).bindPopup('<b>Kōun</b> <br /><i>Small City</i>');
		var ts_shingetsu = L.marker([-35.440072, 48.867281], { icon: citySmall }).bindPopup('<b>Shingetsu</b> <br /><i>Small City</i>');
		var ts_engetsu = L.marker([-45.070751, 14.763658], { icon: citySmall }).bindPopup('<b>Engetsu</b> <br /><i>Small City</i>');
		var ts_tsukimiya = L.marker([-40.933431, 81.082085], { icon: citySmall }).bindPopup('<b>Tsukimiya</b> <br /><i>Small City</i> <br />Small city, mainly for communication and trade with eastern and northen countries');
		//Towns
		var ts_asahi = L.marker([-1.52557, 55.842131], { icon: town }).bindPopup('<b>Asahi</b> <br /><i>Town</i> <br />A small town, disproportionately big military presence compared to its civilian population due to its proximity to the HAE');
		var ts_yūnagi = L.marker([-38.316604, 56.327448], { icon: town }).bindPopup('<b>Yūnagi</b> <br /><i>Town</i>');
		var ts_tsukiakari = L.marker([-38.837327, 4.772362], { icon: town }).bindPopup('<b>Tsukiakari</b> <br /><i>Town</i>');
		var ts_suzuran = L.marker([-55.861359, 44.071459], { icon: town }).bindPopup('<b>Suzuran</b> <br /><i>Town</i>');
		var ts_yūdachi = L.marker([-40.044885, 3.08464], { icon: town }).bindPopup('<b>Yūdachi</b> <br /><i>Town</i>');
		var ts_haruka = L.marker([-28.800823, 72.574947], { icon: town }).bindPopup('<b>Haruka</b> <br /><i>Town</i>');
		var ts_kōri = L.marker([-62.13469, 65.332354], { icon: town }).bindPopup('<b>Kōri</b> <br /><i>Town</i>');
		//Nature
		var ts_hanabira = L.marker([-52.306608, 37.804889], { icon: nature }).bindPopup('<b>Hanabira Nagare</b> <br /><i>Lake</i>');
		var ts_yama = L.marker([-36.031332, 57.919922], { icon: nature }).bindPopup('<b>Yama no Kyōfū</b> <br /><i>Mountain</i> <br />The largest mountain range in Tsuki Ōkoku');
		var ts_gekkōzan = L.marker([-30.524413, 37.705078], { icon: nature }).bindPopup('<b>Gekkōzan</b> <br /><i>Mountain</i>');
		var ts_hikarinomori = L.marker([-16.910568, 0.642627], { icon: nature }).bindPopup('<b>Hikari no Mori</b> <br /><i>Forest</i>');
		var ts_mizuhanabira = L.marker([-50.176898, 50.712891], { icon: nature }).bindPopup('<b>Mizu Hanabira no Mori</b> <br /><i>Forest</i>');
		var ts_tsukiakari = L.marker([-18.452263, 32.228559], { icon: nature }).bindPopup('<b>Tsukiakari </b> <br /><i>Forest</i>');
		var ts_kori = L.marker([-63.726971, 54.595624], { icon: nature }).bindPopup('<b>Kōri Kaisen</b> <br /><i>Shore</i>');

		//Primoria
		var pr_capital = L.marker([-26.181457, -61.49786], { icon: capital }).bindPopup('<b>Primorian Capital</b> <br /><i>Capital</i> <br />The capital of Primoria');
		//Important
		var pr_archtree = L.marker([-56.703904, -69.146122], { icon: important }).bindPopup('<b><a href="arathia#Arch-Trees" target="_blank">Primorian Arch-Tree</a></b> <br /><i>Important Location</i> <br />The Arch-Tree in Primoria');
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Dryadalis
		var dr_capital = L.marker([-39.842286, -136.933594], { icon: capital }).bindPopup('<b>Aeternum</b> <br /><i>Capital</i> <br />The capital of Dryadalis');
		//Important
		//Big Cities
		var dr_eldorath = L.marker([-51.123378, -128.277507], { icon: cityBig }).bindPopup('<b>Eldorath</b> <br /><i>Large City</i>');
		//Small Cities
		var dr_faerwyn = L.marker([-49.111661, -155.112608], { icon: citySmall }).bindPopup('<b>Faerwyn</b> <br /><i>Small City</i>');
		//Towns
		var dr_elaris = L.marker([-46.664566, -142.44974], { icon: town }).bindPopup('<b>Elaris</b> <br /><i>Town</i>');
		var dr_galadrim = L.marker([-57.328012, -139.768383], { icon: town }).bindPopup('<b>Galadrim</b> <br /><i>Town</i>');
		//Nature
		var dr_feywood = L.marker([-41.435969, -150.186067], { icon: nature }).bindPopup('<b>Feywood</b> <br /><i>Forest</i>');
		var dr_lacus = L.marker([-49.323654, -150.75126], { icon: nature }).bindPopup('<b>Lacus Serenus</b> <br /><i>Lake</i>');
		var dr_verdantis = L.marker([-42.875964, -142.119141], { icon: nature }).bindPopup('<b>Verdantis Mons</b> <br /><i>Mountain</i>');

		//Trade Company

		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Gigantoria

		//Important
		//Big Cities
		//Small Cities
		//Towns
		//Nature

		//Oceans

		//Characters
		var an_gerhard = L.marker([-2.372369, -72.685547], { icon: character }).bindPopup('<b><a href="arathia#Gerhard%20von%20Eichenwald" target="_blank">Gerhard von Eichenwald</b></a> <br /><i>Character</i> <br />Gerhards temporary camp in a small town in the Holy Antarian Empire');
		var ts_nihil = L.marker([-41.980887, 32.348339], { icon: character }).bindPopup('<b><a href="arathia#Nihil%2C%20the%20Eternal" target="_blank">Nihil, the Eternal</a></b> <br /><i>Character</i> <br />Currently in hiding after the great dragon purge.');
		var an_aurumoria = L.marker([17.768594, -114.376119], { icon: character }).bindPopup('<b><a href="arathia#Aurumoria%2C%20the%20Gilded%20Guardian" target="_blank">Aurumoria, the Gilded Guardian</a></b> <br /><i>Character</i> <br />Currently in hiding in a small town after the great dragon purge, has taken human form to blend in.');
		var ts_reiko = L.marker([-25.403585, 12.744141], { icon: character }).bindPopup('<b><a href="arathia#Miyamoto%20Reiko" target="_blank">Miyamoto Reiko</a></b> <br /><i>Character</i> <br />The current leader of Tsuki Ōkoku');

		//Morturia
		//Scientia
		var sc_capital = L.marker([39.994442, 89.15887], { icon: capital }).bindPopup('<b>Scienta Capital</b> <br /><i>Capital</i> <br />The capital of Scientia');
		//Important

		//Ardeat
		
		//Important

		//Gelida
		
		//Important

		//Characters

		//Marker Groups
		var ar_capitals = L.layerGroup([an_capital, od_capital, ts_capital, dr_capital, th_capital, rh_capital, pr_capital, az_capital]).addTo(map);
		var ar_citiesBig = L.layerGroup([ts_sōgenshima, ts_kinshū, ts_hikari, an_city, dr_eldorath]).addTo(map);
		var ar_citiesSmall = L.layerGroup([ts_amagumo, ts_yozora, ts_kōun, ts_shingetsu, ts_engetsu, ts_tsukimiya, dr_faerwyn]).addTo(map);
		var ar_towns = L.layerGroup([an_town, an_town2, ts_asahi, ts_yūnagi, ts_tsukiakari, ts_suzuran, ts_yūdachi, ts_haruka, ts_kōri, dr_elaris, dr_galadrim]).addTo(map);
		var ar_nature = L.layerGroup([ts_hanabira, ts_yama, ts_gekkōzan, ts_hikarinomori, ts_mizuhanabira, ts_kori, ts_tsukiakari, dr_feywood, dr_lacus, dr_verdantis]).addTo(map);
		var ar_important = L.layerGroup([ts_archtree, rh_archtree, an_archtree, pr_archtree, ts_mizunoiwaya]).addTo(map);
		var ar_characters = L.layerGroup([an_gerhard, ts_nihil, an_aurumoria, ts_reiko]).addTo(map);

		var dv_coord = L.layerGroup([marker]);

		var mo_capitals = L.layerGroup([sc_capital]);
		var mo_important = L.layerGroup([]);
		var mo_characters = L.layerGroup([]);
		//Marker Overlay
		var overlays = {
			"Arathia": {
				"Capitals": ar_capitals,
				"Large Cities": ar_citiesBig,
				"Small Cities": ar_citiesSmall,
				"Towns": ar_towns,
				"Nature": ar_nature,
				"Important Locations": ar_important,
				"Characters": ar_characters,
			},
			"Developer": {
				"Coordinate Finder": dv_coord,
			},
			"Morturia": {
				"Capitals": mo_capitals,
				"Important Locations": mo_important,
				"Characters": mo_characters,
			}
		};
		var options = {
			groupCheckboxes: true
		};
		var mapLayers = {
			"Arathia": arathia,
			"Arathia Clean": arathiaClean,
			"Morturia": morturia,
		}

		//GROUP CONTROLS
		L.control.groupedLayers(mapLayers, overlays, options).addTo(map);

		document.addEventListener('change', function (event) {
			var radioButton = event.target;

			// Check if the changed element is a radio button
			if (radioButton.classList.contains('leaflet-control-layers-selector')) {
				// Check which radio button is selected
				if (radioButton.nextSibling.textContent.trim() === 'Arathia') {
					map.getContainer().style.backgroundColor = '#e9bf82';

					map.removeLayer(mo_capitals);
					map.removeLayer(mo_characters);
					map.removeLayer(mo_important);

					map.addLayer(ar_capitals);
					map.addLayer(ar_characters);
					map.addLayer(ar_citiesBig);
					map.addLayer(ar_citiesSmall);
					map.addLayer(ar_important);
					map.addLayer(ar_nature);
					map.addLayer(ar_towns);

					// Check the main checkbox
					var arathiaCheckbox = document.querySelectorAll('.leaflet-control-layers-group-selector')[0];
					arathiaCheckbox.checked = true;
				} else if (radioButton.nextSibling.textContent.trim() === 'Arathia Clean') {
					map.getContainer().style.backgroundColor = '#e9bf82';

					map.removeLayer(mo_capitals);
					map.removeLayer(mo_characters);
					map.removeLayer(mo_important);

					map.removeLayer(ar_capitals);
					map.removeLayer(ar_characters);
					map.removeLayer(ar_citiesBig);
					map.removeLayer(ar_citiesSmall);
					map.removeLayer(ar_important);
					map.removeLayer(ar_nature);
					map.removeLayer(ar_towns);

					// Uncheck the main checkbox
					var arathiaCheckbox = document.querySelectorAll('.leaflet-control-layers-group-selector')[0];
					arathiaCheckbox.checked = false;
				} else if (radioButton.nextSibling.textContent.trim() === 'Morturia') {
					map.getContainer().style.backgroundColor = '#211b16';

					map.removeLayer(ar_capitals);
					map.removeLayer(ar_characters);
					map.removeLayer(ar_citiesBig);
					map.removeLayer(ar_citiesSmall);
					map.removeLayer(ar_important);
					map.removeLayer(ar_nature);
					map.removeLayer(ar_towns);

					map.addLayer(mo_capitals);
					map.addLayer(mo_characters);
					map.addLayer(mo_important);

					// Check the main checkbox
					var morturiaCheckbox = document.querySelectorAll('.leaflet-control-layers-group-selector')[2];
					morturiaCheckbox.checked = true;
				} else if (radioButton.nextSibling.textContent.trim() === 'Morturia Clean') {
					map.getContainer().style.backgroundColor = '#211b16';

					map.removeLayer(ar_capitals);
					map.removeLayer(ar_characters);
					map.removeLayer(ar_citiesBig);
					map.removeLayer(ar_citiesSmall);
					map.removeLayer(ar_important);
					map.removeLayer(ar_nature);
					map.removeLayer(ar_towns);

					map.removeLayer(mo_capitals);
					map.removeLayer(mo_characters);
					map.removeLayer(mo_important);

					// Uncheck the main checkbox
					var morturiaCheckbox = document.querySelectorAll('.leaflet-control-layers-group-selector')[2];
					morturiaCheckbox.checked = false;
				}
			}
		});

		document.addEventListener('DOMContentLoaded', function () {
			// Check the main checkbox
			var checkbox = document.querySelector('.leaflet-control-layers-group-selector');
			checkbox.checked = true;
		});

		// Injecting the new button into the existing zoom control
		var zoomControl = document.querySelector('.leaflet-control-zoom.leaflet-bar.leaflet-control');
		// Replace the icon URL with the actual URL of the icon you want to use
		const wikiButton = document.createElement('a');
		wikiButton.className = 'leaflet-control-zoom-out';
		wikiButton.href = 'arathia';
		wikiButton.target = '_blank';
		wikiButton.title = 'Wiki';
		wikiButton.role = 'button';
		wikiButton.style.display = 'flex';
		wikiButton.style.justifyContent = 'center';
		wikiButton.style.alignItems = 'center';

		const img = document.createElement('img');
		img.src = 'https://cdn-icons-png.flaticon.com/512/1006/1006771.png';
		img.style.maxWidth = '16px';
		img.style.maxHeight = '16px';

		wikiButton.appendChild(img);

		zoomControl.insertAdjacentElement('beforeend', wikiButton);

		document.getElementsByClassName( 'leaflet-control-attribution' )[0].style.display = 'none';
	</script>		
</body>

</html>